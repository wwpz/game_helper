éå¸¸å¥½çš„æƒ³æ³•ï¼é›†æˆæ¶ˆæ¯é€šçŸ¥åŠŸèƒ½å¯ä»¥å¤§å¤§æé«˜è‡ªåŠ¨åŒ–ç³»ç»Ÿçš„å®ç”¨æ€§ã€‚è®©æˆ‘ä¸ºä½ è®¾è®¡ä¸€ä¸ªå¯æ‰©å±•çš„é€šçŸ¥ç³»ç»Ÿæ¶æ„ï¼š

## é€šçŸ¥ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1. é€šçŸ¥å™¨åŸºç±»

```python
# core/notification/notifier_base.py
from abc import ABC, abstractmethod
from typing import Dict, Any, Optional
from enum import Enum

class NotificationLevel(Enum):
    """é€šçŸ¥çº§åˆ«"""
    INFO = "info"
    WARNING = "warning"
    ERROR = "error"
    CRITICAL = "critical"

class NotifierBase(ABC):
    """é€šçŸ¥å™¨åŸºç±»"""
    
    def __init__(self, config: Dict[str, Any]):
        self.config = config
        self.enabled = config.get("enabled", True)
        self.name = self.__class__.__name__
        
    @property
    @abstractmethod
    def notifier_type(self) -> str:
        """é€šçŸ¥å™¨ç±»å‹"""
        pass
    
    @abstractmethod
    def send_notification(self, title: str, message: str, level: NotificationLevel = NotificationLevel.INFO) -> bool:
        """
        å‘é€é€šçŸ¥
        
        Args:
            title: é€šçŸ¥æ ‡é¢˜
            message: é€šçŸ¥å†…å®¹
            level: é€šçŸ¥çº§åˆ«
            
        Returns:
            bool: æ˜¯å¦å‘é€æˆåŠŸ
        """
        pass
    
    def is_enabled(self) -> bool:
        """æ£€æŸ¥é€šçŸ¥å™¨æ˜¯å¦å¯ç”¨"""
        return self.enabled
    
    def setup(self) -> None:
        """åˆå§‹åŒ–é€šçŸ¥å™¨"""
        pass
    
    def teardown(self) -> None:
        """æ¸…ç†é€šçŸ¥å™¨"""
        pass
```


### 2. é€šçŸ¥ç®¡ç†å™¨

```python
# core/notification/notification_manager.py
import threading
from typing import Dict, List, Optional
from core.notification.notifier_base import NotifierBase, NotificationLevel

class NotificationManager:
    """é€šçŸ¥ç®¡ç†å™¨"""
    
    def __init__(self):
        self._notifiers: Dict[str, NotifierBase] = {}
        self._lock = threading.Lock()
        
    def register_notifier(self, notifier: NotifierBase) -> None:
        """æ³¨å†Œé€šçŸ¥å™¨"""
        with self._lock:
            notifier_type = notifier.notifier_type
            self._notifiers[notifier_type] = notifier
            # åˆå§‹åŒ–é€šçŸ¥å™¨
            notifier.setup()
            
    def unregister_notifier(self, notifier_type: str) -> bool:
        """æ³¨é”€é€šçŸ¥å™¨"""
        with self._lock:
            if notifier_type in self._notifiers:
                notifier = self._notifiers[notifier_type]
                notifier.teardown()
                del self._notifiers[notifier_type]
                return True
            return False
    
    def send_notification(self, title: str, message: str, 
                         level: NotificationLevel = NotificationLevel.INFO,
                         notifier_types: Optional[List[str]] = None) -> Dict[str, bool]:
        """
        å‘é€é€šçŸ¥
        
        Args:
            title: é€šçŸ¥æ ‡é¢˜
            message: é€šçŸ¥å†…å®¹
            level: é€šçŸ¥çº§åˆ«
            notifier_types: æŒ‡å®šçš„é€šçŸ¥å™¨ç±»å‹åˆ—è¡¨ï¼ŒNoneè¡¨ç¤ºå‘é€ç»™æ‰€æœ‰å¯ç”¨çš„é€šçŸ¥å™¨
            
        Returns:
            Dict[str, bool]: å„é€šçŸ¥å™¨çš„å‘é€ç»“æœ
        """
        results = {}
        
        with self._lock:
            # ç¡®å®šè¦å‘é€é€šçŸ¥çš„é€šçŸ¥å™¨
            target_notifiers = {}
            if notifier_types:
                # åªå‘é€ç»™æŒ‡å®šç±»å‹çš„é€šçŸ¥å™¨
                for notifier_type in notifier_types:
                    if notifier_type in self._notifiers:
                        target_notifiers[notifier_type] = self._notifiers[notifier_type]
            else:
                # å‘é€ç»™æ‰€æœ‰å¯ç”¨çš„é€šçŸ¥å™¨
                target_notifiers = self._notifiers
                
            # å‘é€é€šçŸ¥
            for notifier_type, notifier in target_notifiers.items():
                if notifier.is_enabled():
                    try:
                        success = notifier.send_notification(title, message, level)
                        results[notifier_type] = success
                    except Exception as e:
                        results[notifier_type] = False
                        print(f"é€šçŸ¥å™¨ {notifier_type} å‘é€é€šçŸ¥å¤±è´¥: {str(e)}")
                        
        return results
    
    def get_available_notifiers(self) -> List[str]:
        """è·å–å¯ç”¨çš„é€šçŸ¥å™¨ç±»å‹åˆ—è¡¨"""
        with self._lock:
            return list(self._notifiers.keys())
    
    def is_notifier_available(self, notifier_type: str) -> bool:
        """æ£€æŸ¥é€šçŸ¥å™¨æ˜¯å¦å¯ç”¨"""
        with self._lock:
            return notifier_type in self._notifiers
```


### 3. å…·ä½“é€šçŸ¥å™¨å®ç°ç¤ºä¾‹

```python
# core/notification/notifiers/email_notifier.py
from core.notification.notifier_base import NotifierBase, NotificationLevel
import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart
from typing import Dict, Any

class EmailNotifier(NotifierBase):
    """é‚®ä»¶é€šçŸ¥å™¨"""
    
    @property
    def notifier_type(self) -> str:
        return "email"
    
    def setup(self) -> None:
        """åˆå§‹åŒ–é‚®ä»¶é€šçŸ¥å™¨"""
        # éªŒè¯é…ç½®
        required_fields = ["smtp_server", "smtp_port", "username", "password", "sender", "receivers"]
        for field in required_fields:
            if field not in self.config:
                raise ValueError(f"é‚®ä»¶é€šçŸ¥å™¨ç¼ºå°‘å¿…è¦é…ç½®é¡¹: {field}")
    
    def send_notification(self, title: str, message: str, level: NotificationLevel = NotificationLevel.INFO) -> bool:
        """å‘é€é‚®ä»¶é€šçŸ¥"""
        try:
            # åˆ›å»ºé‚®ä»¶
            msg = MIMEMultipart()
            msg['From'] = self.config["sender"]
            msg['To'] = ", ".join(self.config["receivers"])
            msg['Subject'] = f"[{level.value.upper()}] {title}"
            
            # é‚®ä»¶å†…å®¹
            body = f"""
é€šçŸ¥çº§åˆ«: {level.value}
æ—¶é—´: {self._get_current_time()}
å†…å®¹:
{message}
            """
            msg.attach(MIMEText(body, 'plain', 'utf-8'))
            
            # å‘é€é‚®ä»¶
            server = smtplib.SMTP(self.config["smtp_server"], self.config["smtp_port"])
            server.starttls()
            server.login(self.config["username"], self.config["password"])
            text = msg.as_string()
            server.sendmail(self.config["sender"], self.config["receivers"], text)
            server.quit()
            
            return True
        except Exception as e:
            print(f"å‘é€é‚®ä»¶é€šçŸ¥å¤±è´¥: {str(e)}")
            return False
    
    def _get_current_time(self) -> str:
        """è·å–å½“å‰æ—¶é—´"""
        from datetime import datetime
        return datetime.now().strftime("%Y-%m-%d %H:%M:%S")
```
```python
# core/notification/notifiers/wechat_notifier.py
from core.notification.notifier_base import NotifierBase, NotificationLevel
import requests
from typing import Dict, Any

class WeChatNotifier(NotifierBase):
    """å¾®ä¿¡é€šçŸ¥å™¨ï¼ˆé€šè¿‡ä¼ä¸šå¾®ä¿¡æˆ–ç±»ä¼¼æœåŠ¡ï¼‰"""
    
    @property
    def notifier_type(self) -> str:
        return "wechat"
    
    def setup(self) -> None:
        """åˆå§‹åŒ–å¾®ä¿¡é€šçŸ¥å™¨"""
        if "webhook_url" not in self.config:
            raise ValueError("å¾®ä¿¡é€šçŸ¥å™¨ç¼ºå°‘webhook_urlé…ç½®")
    
    def send_notification(self, title: str, message: str, level: NotificationLevel = NotificationLevel.INFO) -> bool:
        """å‘é€å¾®ä¿¡é€šçŸ¥"""
        try:
            webhook_url = self.config["webhook_url"]
            
            # æ„é€ æ¶ˆæ¯å†…å®¹
            content = f"""
**{title}**
é€šçŸ¥çº§åˆ«: {level.value}
å†…å®¹: {message}
            """
            
            payload = {
                "msgtype": "text",
                "text": {
                    "content": content
                }
            }
            
            response = requests.post(webhook_url, json=payload)
            return response.status_code == 200
        except Exception as e:
            print(f"å‘é€å¾®ä¿¡é€šçŸ¥å¤±è´¥: {str(e)}")
            return False
```
```python
# core/notification/notifiers/qq_notifier.py
from core.notification.notifier_base import NotifierBase, NotificationLevel
import requests
from typing import Dict, Any

class QQNotifier(NotifierBase):
    """QQé€šçŸ¥å™¨ï¼ˆé€šè¿‡QQæœºå™¨äººæœåŠ¡ï¼‰"""
    
    @property
    def notifier_type(self) -> str:
        return "qq"
    
    def setup(self) -> None:
        """åˆå§‹åŒ–QQé€šçŸ¥å™¨"""
        if "api_url" not in self.config or "access_token" not in self.config:
            raise ValueError("QQé€šçŸ¥å™¨ç¼ºå°‘å¿…è¦é…ç½®")
    
    def send_notification(self, title: str, message: str, level: NotificationLevel = NotificationLevel.INFO) -> bool:
        """å‘é€QQé€šçŸ¥"""
        try:
            api_url = self.config["api_url"]
            access_token = self.config["access_token"]
            
            # æ„é€ æ¶ˆæ¯å†…å®¹
            content = f"""
[{level.value.upper()}] {title}
å†…å®¹: {message}
            """
            
            headers = {
                "Authorization": f"Bearer {access_token}",
                "Content-Type": "application/json"
            }
            
            payload = {
                "message": content,
                "group_id": self.config.get("group_id"),  # å¯é€‰ï¼Œå‘é€åˆ°ç¾¤ç»„
                "user_id": self.config.get("user_id")     # å¯é€‰ï¼Œå‘é€ç»™ç”¨æˆ·
            }
            
            response = requests.post(api_url, json=payload, headers=headers)
            return response.status_code == 200
        except Exception as e:
            print(f"å‘é€QQé€šçŸ¥å¤±è´¥: {str(e)}")
            return False
```


### 4. é›†æˆåˆ°é”™è¯¯å¤„ç†å™¨

```python
# core/error_handler/enhanced_error_handler.py
import tkinter as tk
from tkinter import messagebox, ttk
import threading
from enum import Enum
from typing import Optional
from core.notification.notification_manager import NotificationManager
from core.notification.notifier_base import NotificationLevel

class ErrorResolution(Enum):
    """é”™è¯¯è§£å†³æ–¹å¼"""
    RESOLVED = "resolved"
    SKIP = "skip"
    STOP = "stop"
    RETRY = "retry"

class EnhancedErrorHandler:
    """å¢å¼ºç‰ˆé”™è¯¯å¤„ç†å™¨ï¼Œé›†æˆé€šçŸ¥åŠŸèƒ½"""
    
    def __init__(self, adapter):
        self.adapter = adapter
        self.log = adapter.log
        self.notification_manager = adapter.notification_manager
        self._current_error = None
        self._resolution = None
        self._waiting = False
        
    def handle_error(self, plugin_name: str, error_message: str, 
                    error_details: Optional[dict] = None) -> ErrorResolution:
        """
        å¤„ç†é”™è¯¯å¹¶ç­‰å¾…ç”¨æˆ·å“åº”
        
        Args:
            plugin_name: å‡ºé”™çš„æ’ä»¶åç§°
            error_message: é”™è¯¯æ¶ˆæ¯
            error_details: é”™è¯¯è¯¦æƒ…
            
        Returns:
            ErrorResolution: ç”¨æˆ·é€‰æ‹©çš„è§£å†³æ–¹å¼
        """
        self.log.error(f"æ’ä»¶ {plugin_name} æ‰§è¡Œå‡ºé”™: {error_message}")
        
        # å‘é€é€šçŸ¥
        self._send_error_notification(plugin_name, error_message, error_details)
        
        # æ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡†
        return self._show_error_dialog(plugin_name, error_message, error_details)
    
    def _send_error_notification(self, plugin_name: str, error_message: str, 
                                error_details: Optional[dict]) -> None:
        """å‘é€é”™è¯¯é€šçŸ¥"""
        try:
            title = f"StarRailHelper - ä»»åŠ¡æ‰§è¡Œé”™è¯¯ [{self.adapter.account}]"
            message = f"""
è´¦å·: {self.adapter.account}
æ’ä»¶: {plugin_name}
é”™è¯¯ä¿¡æ¯: {error_message}
æ—¶é—´: {self._get_current_time()}
            """
            
            if error_details:
                message += f"\nè¯¦ç»†ä¿¡æ¯: {str(error_details)}"
            
            # å‘é€é”™è¯¯çº§åˆ«é€šçŸ¥
            self.notification_manager.send_notification(
                title=title,
                message=message,
                level=NotificationLevel.ERROR
            )
        except Exception as e:
            self.log.error(f"å‘é€é”™è¯¯é€šçŸ¥å¤±è´¥: {str(e)}")
    
    def _show_error_dialog(self, plugin_name: str, error_message: str, 
                          error_details: Optional[dict]) -> ErrorResolution:
        """æ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡†å¹¶ç­‰å¾…ç”¨æˆ·é€‰æ‹©"""
        # åˆ›å»ºå¯¹è¯æ¡†
        dialog = tk.Tk()
        dialog.title("ä»»åŠ¡æ‰§è¡Œé”™è¯¯ - éœ€è¦äººå·¥å¤„ç†")
        dialog.geometry("550x350")
        dialog.resizable(True, True)
        
        # ç¡®ä¿å¯¹è¯æ¡†åœ¨æœ€å‰é¢
        dialog.attributes('-topmost', True)
        dialog.focus_force()
        
        # é”™è¯¯ä¿¡æ¯æ¡†æ¶
        info_frame = ttk.Frame(dialog, padding="10")
        info_frame.pack(fill=tk.BOTH, expand=True)
        
        # è´¦å·å’Œæ’ä»¶ä¿¡æ¯
        account_label = ttk.Label(info_frame, text=f"è´¦å·: {self.adapter.account}", 
                                 font=("Arial", 10, "bold"))
        account_label.pack(anchor=tk.W, pady=(0, 2))
        
        plugin_label = ttk.Label(info_frame, text=f"æ’ä»¶: {plugin_name}", 
                                font=("Arial", 10, "bold"))
        plugin_label.pack(anchor=tk.W, pady=(0, 5))
        
        # é”™è¯¯æ¶ˆæ¯
        error_label = ttk.Label(info_frame, text="é”™è¯¯ä¿¡æ¯:", font=("Arial", 10, "bold"))
        error_label.pack(anchor=tk.W, pady=(10, 2))
        
        error_text = tk.Text(info_frame, height=4, width=65)
        error_text.insert("1.0", error_message)
        error_text.config(state="disabled")
        error_text.pack(fill=tk.BOTH, expand=True, pady=(0, 10))
        
        # é”™è¯¯è¯¦æƒ…ï¼ˆå¦‚æœæœ‰ï¼‰
        if error_details:
            details_label = ttk.Label(info_frame, text="è¯¦ç»†ä¿¡æ¯:", font=("Arial", 10, "bold"))
            details_label.pack(anchor=tk.W, pady=(5, 2))
            
            details_text = tk.Text(info_frame, height=3, width=65)
            details_text.insert("1.0", str(error_details))
            details_text.config(state="disabled")
            details_text.pack(fill=tk.BOTH, expand=True, pady=(0, 10))
        
        # æŒ‡ç¤ºæ ‡ç­¾
        instruction_label = ttk.Label(info_frame, 
                                    text="âš ï¸ è¯·æ‰‹åŠ¨è§£å†³é—®é¢˜åç‚¹å‡»'å·²è§£å†³'ç»§ç»­æ‰§è¡Œ", 
                                    foreground="red", font=("Arial", 10, "bold"))
        instruction_label.pack(anchor=tk.W, pady=(5, 10))
        
        # é€šçŸ¥çŠ¶æ€
        notification_status = ttk.Label(info_frame, 
                                      text="ğŸ“§ é”™è¯¯é€šçŸ¥å·²å‘é€", 
                                      foreground="blue")
        notification_status.pack(anchor=tk.W, pady=(0, 5))
        
        # æŒ‰é’®æ¡†æ¶
        button_frame = ttk.Frame(dialog)
        button_frame.pack(fill=tk.X, padx=10, pady=(0, 10))
        
        # è§£å†³æ–¹å¼å˜é‡
        resolution = tk.StringVar(value="waiting")
        
        # æŒ‰é’®
        resolved_btn = ttk.Button(
            button_frame, 
            text="âœ… å·²è§£å†³ (ç»§ç»­æ‰§è¡Œ)", 
            command=lambda: self._set_resolution(dialog, resolution, "resolved")
        )
        resolved_btn.pack(side=tk.LEFT, padx=5)
        
        retry_btn = ttk.Button(
            button_frame, 
            text="ğŸ”„ é‡è¯•", 
            command=lambda: self._set_resolution(dialog, resolution, "retry")
        )
        retry_btn.pack(side=tk.LEFT, padx=5)
        
        skip_btn = ttk.Button(
            button_frame, 
            text="â­ï¸ è·³è¿‡ä»»åŠ¡", 
            command=lambda: self._set_resolution(dialog, resolution, "skip")
        )
        skip_btn.pack(side=tk.LEFT, padx=5)
        
        stop_btn = ttk.Button(
            button_frame, 
            text="â¹ï¸ åœæ­¢æ‰€æœ‰ä»»åŠ¡", 
            command=lambda: self._set_resolution(dialog, resolution, "stop")
        )
        stop_btn.pack(side=tk.LEFT, padx=5)
        
        # ç­‰å¾…ç”¨æˆ·é€‰æ‹©
        dialog.mainloop()
        
        # è¿”å›ç”¨æˆ·é€‰æ‹©
        resolution_value = resolution.get()
        if resolution_value == "resolved":
            return ErrorResolution.RESOLVED
        elif resolution_value == "retry":
            return ErrorResolution.RETRY
        elif resolution_value == "skip":
            return ErrorResolution.SKIP
        elif resolution_value == "stop":
            return ErrorResolution.STOP
        else:
            return ErrorResolution.STOP  # é»˜è®¤åœæ­¢
    
    def _set_resolution(self, dialog, resolution_var, value: str) -> None:
        """è®¾ç½®è§£å†³æ–¹å¼å¹¶å…³é—­å¯¹è¯æ¡†"""
        resolution_var.set(value)
        dialog.destroy()
        self.log.info(f"ç”¨æˆ·é€‰æ‹©è§£å†³æ–¹å¼: {value}")
    
    def _get_current_time(self) -> str:
        """è·å–å½“å‰æ—¶é—´"""
        from datetime import datetime
        return datetime.now().strftime("%Y-%m-%d %H:%M:%S")
```


### 5. åœ¨é€‚é…å™¨ä¸­é›†æˆé€šçŸ¥ç®¡ç†å™¨

```python
# core/adapter/star_rail/star_rail_adapter.py
from core.adapter.game_adapter import GameAdapter
from core.plugins.manager.plugin_manager import PluginManager
from core.scheduler.task_scheduler import TaskScheduler
from core.error_handler.enhanced_error_handler import EnhancedErrorHandler
from core.notification.notification_manager import NotificationManager
from core.log.log_factory import get_logger

class StarRailAdapter(GameAdapter):
    def __init__(self, port, icon, account):
        self.port = port
        self.icon = icon
        self.account = account
        self.log = get_logger("StarRailAdapter", account)
        
        # åˆå§‹åŒ–é€šçŸ¥ç®¡ç†å™¨
        self.notification_manager = NotificationManager()
        self._setup_notifiers()
        
        # åˆå§‹åŒ–å¢å¼ºç‰ˆé”™è¯¯å¤„ç†å™¨
        self.error_handler = EnhancedErrorHandler(self)
        
        # åˆå§‹åŒ–æ’ä»¶ç®¡ç†å™¨
        self.plugin_manager = PluginManager(self)
        self.plugin_manager.load_plugins()
        
        # åˆå§‹åŒ–ä»»åŠ¡è°ƒåº¦å™¨
        self.task_scheduler = TaskScheduler(self)
        self.task_scheduler.start_scheduler()
        
        self.log.info("åˆ›å»ºé€‚é…å™¨å®ä¾‹: é€‚é…å™¨=%s, è´¦å·=%s, ç«¯å£=%d", 
                     self.__class__.__name__, self.account, self.port)
        
        # å‘é€å¯åŠ¨é€šçŸ¥
        self._send_startup_notification()

    def _setup_notifiers(self) -> None:
        """è®¾ç½®é€šçŸ¥å™¨"""
        try:
            # ä»é…ç½®æ–‡ä»¶åŠ è½½é€šçŸ¥å™¨é…ç½®
            notifier_configs = self._load_notifier_configs()
            
            # æ³¨å†Œå„ç§é€šçŸ¥å™¨
            for notifier_config in notifier_configs:
                notifier_type = notifier_config.get("type")
                if not notifier_type:
                    continue
                    
                # æ ¹æ®ç±»å‹åˆ›å»ºå¯¹åº”çš„é€šçŸ¥å™¨
                if notifier_type == "email":
                    from core.notification.notifiers.email_notifier import EmailNotifier
                    notifier = EmailNotifier(notifier_config)
                elif notifier_type == "wechat":
                    from core.notification.notifiers.wechat_notifier import WeChatNotifier
                    notifier = WeChatNotifier(notifier_config)
                elif notifier_type == "qq":
                    from core.notification.notifiers.qq_notifier import QQNotifier
                    notifier = QQNotifier(notifier_config)
                else:
                    self.log.warning(f"æœªçŸ¥çš„é€šçŸ¥å™¨ç±»å‹: {notifier_type}")
                    continue
                
                # æ³¨å†Œé€šçŸ¥å™¨
                self.notification_manager.register_notifier(notifier)
                self.log.info(f"æ³¨å†Œé€šçŸ¥å™¨: {notifier_type}")
                
        except Exception as e:
            self.log.error(f"è®¾ç½®é€šçŸ¥å™¨æ—¶å‡ºé”™: {str(e)}")
    
    def _load_notifier_configs(self) -> list:
        """åŠ è½½é€šçŸ¥å™¨é…ç½®"""
        import json
        import os
        
        config_file = f"config/notifiers_{self.account}.json"
        if not os.path.exists(config_file):
            config_file = "config/notifiers.json"
            
        if os.path.exists(config_file):
            try:
                with open(config_file, 'r', encoding='utf-8') as f:
                    config = json.load(f)
                    return config.get("notifiers", [])
            except Exception as e:
                self.log.error(f"åŠ è½½é€šçŸ¥å™¨é…ç½®å¤±è´¥: {str(e)}")
        
        # è¿”å›é»˜è®¤é…ç½®
        return []
    
    def _send_startup_notification(self) -> None:
        """å‘é€å¯åŠ¨é€šçŸ¥"""
        try:
            title = f"StarRailHelper - è´¦å·ä»»åŠ¡å¯åŠ¨ [{self.account}]"
            message = f"""
è´¦å·: {self.account}
ç«¯å£: {self.port}
æ—¶é—´: {self._get_current_time()}
çŠ¶æ€: ä»»åŠ¡å·²å¯åŠ¨
            """
            
            self.notification_manager.send_notification(
                title=title,
                message=message,
                level=NotificationLevel.INFO
            )
        except Exception as e:
            self.log.error(f"å‘é€å¯åŠ¨é€šçŸ¥å¤±è´¥: {str(e)}")
    
    def _get_current_time(self) -> str:
        """è·å–å½“å‰æ—¶é—´"""
        from datetime import datetime
        return datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    def get_simulator(self):
        """è·å–æ¨¡æ‹Ÿå™¨å®ä¾‹"""
        # è¿”å›æ¨¡æ‹Ÿå™¨å®ä¾‹ï¼Œä¾›æ’ä»¶ä½¿ç”¨
        pass
```


### 6. é€šçŸ¥å™¨é…ç½®æ–‡ä»¶ç¤ºä¾‹

```json
{
  "notifiers": [
    {
      "type": "email",
      "enabled": true,
      "smtp_server": "smtp.gmail.com",
      "smtp_port": 587,
      "username": "your_email@gmail.com",
      "password": "your_password",
      "sender": "your_email@gmail.com",
      "receivers": ["receiver1@gmail.com", "receiver2@gmail.com"]
    },
    {
      "type": "wechat",
      "enabled": true,
      "webhook_url": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_key"
    },
    {
      "type": "qq",
      "enabled": false,
      "api_url": "http://your-qq-bot-api.com/send",
      "access_token": "your_access_token",
      "group_id": "123456789"
    }
  ]
}
```


## è®¾è®¡ä¼˜åŠ¿

### 1. **é«˜åº¦å¯æ‰©å±•æ€§**
- æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼ï¼ˆé‚®ä»¶ã€å¾®ä¿¡ã€QQç­‰ï¼‰
- æ˜“äºæ·»åŠ æ–°çš„é€šçŸ¥å™¨ç±»å‹
- é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶å¯ç”¨çŠ¶æ€

### 2. **çµæ´»çš„é€šçŸ¥ç­–ç•¥**
- æ”¯æŒä¸åŒçº§åˆ«çš„é€šçŸ¥ï¼ˆINFOã€WARNINGã€ERRORã€CRITICALï¼‰
- å¯ä»¥æŒ‡å®šå‘é€ç»™ç‰¹å®šç±»å‹çš„é€šçŸ¥å™¨
- æ”¯æŒæ‰¹é‡å‘é€é€šçŸ¥

### 3. **ä¸é”™è¯¯å¤„ç†é›†æˆ**
- é”™è¯¯å‘ç”Ÿæ—¶è‡ªåŠ¨å‘é€é€šçŸ¥
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- æ”¯æŒç”¨æˆ·äº¤äº’å’Œé€šçŸ¥çš„ç»“åˆ

### 4. **é…ç½®é©±åŠ¨**
- é€šè¿‡JSONé…ç½®æ–‡ä»¶ç®¡ç†é€šçŸ¥å™¨
- æ”¯æŒæ¯ä¸ªè´¦å·ç‹¬ç«‹é…ç½®
- æ”¯æŒè¿è¡Œæ—¶å¯ç”¨/ç¦ç”¨é€šçŸ¥å™¨

### 5. **å¥å£®æ€§**
- å¼‚å¸¸å¤„ç†ç¡®ä¿é€šçŸ¥å‘é€ä¸å½±å“ä¸»æµç¨‹
- æ”¯æŒå¤šä¸ªé€šçŸ¥å™¨å¹¶è¡Œå·¥ä½œ
- æä¾›è¯¦ç»†çš„æ—¥å¿—è®°å½•

è¿™ç§è®¾è®¡ä½¿å¾—ä½ å¯ä»¥åœ¨ä¸ä¿®æ”¹æ ¸å¿ƒä»£ç çš„æƒ…å†µä¸‹ï¼Œè½»æ¾æ·»åŠ å„ç§é€šçŸ¥æ–¹å¼ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®éœ€è¦çµæ´»é…ç½®é€šçŸ¥ç­–ç•¥ã€‚